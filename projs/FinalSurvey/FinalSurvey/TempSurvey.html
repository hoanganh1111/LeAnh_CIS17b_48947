<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Template Survey</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="Question.js"></script>
        <script type="text/javascript" src="Survey.js"></script>
        <script type="text/javascript" src="clearStorage.js"></script>
        <link rel="stylesheet" href="ulStyle.css">
    </head>
    <body>
        <ul class="topnav">
            <li><a href="admin_main.html">Admin Main Page</a></li>
            <li><a href="addQuestion.html">Add Question</a></li>
            <li><a href="getResult.html">Display Result</a></li>
            <li><a href="admin_view.php">Display Survey Takers</a></li>
            <li><a href="TempSurvey.html" onclick="clearStorage()" class="right" >Delete the Survey</a></li>
            <li><a href="TempSurvey.html" onclick="delete_cookie()">Delete The User Cookies</a></li>
             <li style="float:right"><a class="active" onclick="delete_cookie_admin()" href="login.html">Log Out</a></li>
        </ul>
        <h1>-----------------------------This is just the Survey Template----------------------------</h1>
        <div id="main">
            <div id="createSurvey">
            </div>
            
            <h1 id="survey_name"></h1>
            <p id="description"></p> 
        </div>
        
        <script type="text/javascript">     
            
            //Check if survey object exist in local storage
            if('survey' in localStorage){
                var node = document.getElementById('createSurvey');
                while (node.hasChildNodes()) {
                    node.removeChild(node.firstChild);
                }
                
                //Reconstruct the survey object from local storage
                var newSurvey = new Survey();
                newSurvey.reconstSurvey();
                // Display the survey
                newSurvey.displayTemplate();    
            }
            
            function delete_cookie() {
                document.cookie = "userEmail=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=../";
                document.cookie = "userFirst=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=../";
                document.cookie = "userLast=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=../";

                alert("The user cookies has been deleted!");
            }
            
            function delete_cookie_admin() {
                document.cookie = "adminEmail=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=../";
                document.cookie = "adminFirst=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=../";
                document.cookie = "adminLast=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=../";

                alert("Goodbye Admin!");
            }
            </script>
    </body>
</html>
